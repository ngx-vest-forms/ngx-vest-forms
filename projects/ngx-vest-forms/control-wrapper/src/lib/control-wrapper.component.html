<div
  class="ngx-control-wrapper"
  [attr.aria-busy]="errorDisplay.isPending() ? 'true' : null"
>
  <div class="ngx-control-wrapper__content">
    <ng-content />
  </div>

  @if (errorDisplay.shouldShowErrors()) {
    <div class="text-sm text-red-600" role="alert" aria-live="polite">
      <ul>
        @for (error of errorDisplay.errors(); track error) {
          <li>{{ error }}</li>
        }
      </ul>
    </div>
  }
  @if (
    errorDisplay.shouldShowWarnings() && errorDisplay.warnings().length > 0
  ) {
    <div
      class="text-sm text-yellow-700"
      role="status"
      aria-live="polite"
      data-warnings="true"
    >
      <ul>
        @for (warn of errorDisplay.warnings(); track warn) {
          <li>{{ warn }}</li>
        }
      </ul>
    </div>
  }
  @if (errorDisplay.isPending()) {
    <div class="flex items-center gap-1 text-xs text-gray-500" aria-busy="true">
      <span
        class="inline-block h-3 w-3 animate-spin rounded-full border-2 border-gray-400 border-t-transparent"
      ></span>
      Validatingâ€¦
    </div>
  }
</div>
