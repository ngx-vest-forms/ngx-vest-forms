<!-- Legacy API Example: Demonstrates deprecated v1 API usage for ngx-vest-forms -->
<!-- This example uses [formValue] and (formValueChange), deprecated signals, and manual error display. -->
<!-- For demonstration and migration guidance only. -->

<h2 class="mb-4 text-2xl font-bold">Legacy API Form Example (v1 API)</h2>
<p class="mb-4 text-sm text-gray-600">
  <strong>Note:</strong> This example demonstrates the
  <span class="font-mono">[formValue]</span> and
  <span class="font-mono">(formValueChange)</span> pattern, deprecated signals
  (<span class="font-mono">isValid</span>,
  <span class="font-mono">errors</span>), and manual error markup. This is for
  migration and backward compatibility testing only. Use the modern API for new
  code.
</p>
<form
  ngxVestForm
  [vestSuite]="suite"
  [formValue]="formValue()"
  (formValueChange)="formValue.set($event)"
  #vestForm="ngxVestForm"
  (ngSubmit)="onSubmit()"
  autocomplete="off"
>
  <div class="mb-4">
    <label for="username" class="block font-medium">Username</label>
    <input
      id="username"
      name="username"
      type="text"
      class="w-full rounded border px-3 py-2"
      ngModel
      required
    />
    <!-- Manual error display using deprecated signal -->
    <div
      *ngIf="vestForm.errors()?.username as errors"
      class="mt-1 text-sm text-red-600"
    >
      <ul>
        <li *ngFor="let error of errors">{{ error }}</li>
      </ul>
    </div>
  </div>
  <div class="mb-4">
    <label for="password" class="block font-medium">Password</label>
    <input
      id="password"
      name="password"
      type="password"
      class="w-full rounded border px-3 py-2"
      ngModel
      required
    />
    <div
      *ngIf="vestForm.errors()?.password as errors"
      class="mt-1 text-sm text-red-600"
    >
      <ul>
        <li *ngFor="let error of errors">{{ error }}</li>
      </ul>
    </div>
  </div>
  <button
    type="submit"
    class="mt-4 rounded bg-blue-600 px-4 py-2 text-white"
    [disabled]="!vestForm.isValid()"
  >
    Submit
  </button>
</form>
