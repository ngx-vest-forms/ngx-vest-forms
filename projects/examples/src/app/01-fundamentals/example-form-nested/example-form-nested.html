<form [ngxVestForm]="form" (ngSubmit)="save()" class="form-container">
  <!-- Personal Information Section -->
  <fieldset class="form-field">
    <legend class="form-label">Personal Information</legend>

    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
      <div class="form-field">
        <label class="form-label" for="personalInfoFirstName">
          First Name
        </label>
        <input
          type="text"
          id="personalInfoFirstName"
          [value]="form.personalInfoFirstName()"
          (input)="form.setPersonalInfoFirstName($event)"
          placeholder="Enter first name"
          class="form-input"
        />

        <ngx-form-error [field]="form.personalInfoFirstNameField()" />
      </div>

      <div class="form-field">
        <label class="form-label" for="personalInfoLastName"> Last Name </label>
        <input
          type="text"
          id="personalInfoLastName"
          [value]="form.personalInfoLastName()"
          (input)="form.setPersonalInfoLastName($event)"
          placeholder="Enter last name"
          class="form-input"
        />

        <ngx-form-error [field]="form.personalInfoLastNameField()" />
      </div>
    </div>

    <div class="form-field">
      <label class="form-label" for="personalInfoEmail"> Email Address </label>
      <input
        type="email"
        id="personalInfoEmail"
        [value]="form.personalInfoEmail()"
        (input)="form.setPersonalInfoEmail($event)"
        placeholder="Enter email address"
        class="form-input"
      />

      <ngx-form-error [field]="form.personalInfoEmailField()" />
    </div>

    <!-- New Input Types Demonstration -->
    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
      <!-- Number Input -->
      <div class="form-field">
        <label class="form-label" for="personalInfoAge">
          Age (Number Input)
        </label>
        <input
          type="number"
          id="personalInfoAge"
          [value]="form.personalInfoAge()"
          (input)="form.setPersonalInfoAge($event)"
          placeholder="Enter your age"
          min="18"
          max="120"
          class="form-input"
        />

        <ngx-form-error [field]="form.personalInfoAgeField()" />
      </div>

      <!-- Range Slider -->
      <div class="form-field">
        <label class="form-label" for="personalInfoExperienceLevel">
          Experience Level (Range: {{ form.personalInfoExperienceLevel() || 5
          }}/10)
        </label>
        <input
          type="range"
          id="personalInfoExperienceLevel"
          [value]="form.personalInfoExperienceLevel()"
          (input)="form.setPersonalInfoExperienceLevel($event)"
          min="1"
          max="10"
          step="1"
          [attr.aria-valuemin]="1"
          [attr.aria-valuemax]="10"
          [attr.aria-valuenow]="form.personalInfoExperienceLevel() || 5"
        />

        <ngx-form-error [field]="form.personalInfoExperienceLevelField()" />
      </div>
    </div>

    <!-- Radio Button Group -->
    <fieldset class="space-y-2">
      <legend class="form-label">Gender (Radio Group)</legend>
      <div class="flex flex-wrap gap-4">
        <div class="flex items-center">
          <input
            type="radio"
            id="personalInfoGender-male"
            value="male"
            [checked]="form.personalInfoGender() === 'male'"
            (change)="form.setPersonalInfoGender($event)"
          />
          <label for="personalInfoGender-male" class="form-label"> Male </label>
        </div>

        <div class="flex items-center">
          <input
            type="radio"
            id="personalInfoGender-female"
            value="female"
            [checked]="form.personalInfoGender() === 'female'"
            (change)="form.setPersonalInfoGender($event)"
          />
          <label for="personalInfoGender-female" class="form-label">
            Female
          </label>
        </div>

        <div class="flex items-center">
          <input
            type="radio"
            id="personalInfoGender-other"
            value="other"
            [checked]="form.personalInfoGender() === 'other'"
            (change)="form.setPersonalInfoGender($event)"
          />
          <label for="personalInfoGender-other" class="form-label">
            Other
          </label>
        </div>

        <div class="flex items-center">
          <input
            type="radio"
            id="personalInfoGender-preferNotToSay"
            value="prefer-not-to-say"
            [checked]="form.personalInfoGender() === 'prefer-not-to-say'"
            (change)="form.setPersonalInfoGender($event)"
          />
          <label for="personalInfoGender-preferNotToSay" class="form-label">
            Prefer not to say
          </label>
        </div>
      </div>

      <ngx-form-error [field]="form.personalInfoGenderField()" />
    </fieldset>
  </fieldset>

  <!-- Address Information Section -->
  <fieldset class="form-field">
    <legend class="form-label">Address Information</legend>

    <div class="form-field">
      <label class="form-label" for="addressInfoStreet"> Street Address </label>
      <input
        type="text"
        id="addressInfoStreet"
        [value]="form.addressInfoStreet()"
        (input)="form.setAddressInfoStreet($event)"
        placeholder="Enter street address"
        class="form-input"
      />

      <ngx-form-error [field]="form.addressInfoStreetField()" />
    </div>

    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
      <div class="form-field">
        <label class="form-label" for="addressInfoCity"> City </label>
        <input
          type="text"
          id="addressInfoCity"
          [value]="form.addressInfoCity()"
          (input)="form.setAddressInfoCity($event)"
          placeholder="Enter city"
          class="form-input"
        />

        <ngx-form-error [field]="form.addressInfoCityField()" />
      </div>

      <div class="form-field">
        <label class="form-label" for="addressInfoZipCode"> ZIP Code </label>
        <input
          type="text"
          id="addressInfoZipCode"
          [value]="form.addressInfoZipCode()"
          (input)="form.setAddressInfoZipCode($event)"
          placeholder="12345 or 12345-6789"
          class="form-input"
        />

        <ngx-form-error [field]="form.addressInfoZipCodeField()" />
      </div>
    </div>

    <div class="form-field">
      <label class="form-label" for="addressInfoCountry"> Country </label>
      <select
        id="addressInfoCountry"
        [value]="form.addressInfoCountry()"
        (change)="form.setAddressInfoCountry($event)"
        class="form-input"
      >
        <option value="">Select a country</option>
        <option value="US">United States</option>
        <option value="CA">Canada</option>
        <option value="UK">United Kingdom</option>
        <option value="DE">Germany</option>
        <option value="FR">France</option>
        <option value="NL">Netherlands</option>
        <option value="OTHER">Other</option>
      </select>

      <ngx-form-error [field]="form.addressInfoCountryField()" />
    </div>
  </fieldset>

  <!-- Preferences Section -->
  <fieldset class="form-field">
    <legend class="form-label">Preferences</legend>

    <div class="space-y-3">
      <div class="flex items-center gap-2">
        <input
          type="checkbox"
          id="newsletter"
          [checked]="form.preferencesNewsletter()"
          (change)="form.setPreferencesNewsletter($event)"
        />
        <label class="form-label" for="newsletter">
          Subscribe to newsletter
        </label>
      </div>

      <div class="flex items-center gap-2">
        <input
          type="checkbox"
          id="notifications"
          [checked]="form.preferencesNotifications()"
          (change)="form.setPreferencesNotifications($event)"
        />
        <label class="form-label" for="notifications">
          Enable email notifications
        </label>
      </div>
    </div>
  </fieldset>

  <div class="form-actions">
    <button
      type="submit"
      class="btn-primary"
      [disabled]="!form.valid() || form.pending() || form.submitting()"
    >
      @if (form.submitting()) { Submitting... } @else { Submit }
    </button>

    <button type="button" (click)="resetForm()" class="btn-secondary">
      Reset
    </button>
  </div>
</form>
